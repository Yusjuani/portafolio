/* ---------- Layout generales ---------- */
.skills{ background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%); padding:5rem 0; margin-bottom:0; position:relative; overflow:hidden; }
.skills::before{ content:''; position:absolute; inset:0; background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="g" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="%23ffffff" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23g)"/></svg>'); opacity:.3; }
.container{ max-width:1400px; margin:0 auto; padding:0 2rem; position:relative; z-index:1; }
.section-title{ text-align:center; margin-bottom:3rem; position:relative; }
.title-text{ font-size:3.5rem; font-weight:800; color:#1a202c; display:block; margin-bottom:1rem; letter-spacing:2px; text-shadow:0 2px 8px rgba(0,0,0,.3); animation:fadeInUp 1s ease-out; }
.title-underline{ width:120px; height:4px; background:linear-gradient(90deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4); margin:0 auto; border-radius:2px; position:relative; box-shadow:0 2px 8px rgba(0,0,0,.15); animation:slideIn 1.2s ease-out; }
.title-underline::after{ content:''; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:20px; height:20px; background:linear-gradient(45deg,#fff,#f8f9fa); border-radius:50%; box-shadow:0 2px 8px rgba(0,0,0,.2); animation:pulseDot 2s ease-in-out infinite; }

/* ---------- Controles ---------- */
.view-controls{ display:flex; justify-content:center; gap:1rem; margin-bottom:3rem; flex-wrap:wrap; }
.view-btn{ display:flex; align-items:center; gap:.5rem; padding:1rem 2rem; background:rgba(255,255,255,.9); border:2px solid transparent; border-radius:50px; font-size:1rem; font-weight:600; color:#333; cursor:pointer; transition:.3s; backdrop-filter:blur(10px); box-shadow:0 4px 15px rgba(0,0,0,.1); }
.view-btn:hover{ transform:translateY(-3px); box-shadow:0 8px 25px rgba(0,0,0,.15); }
.view-btn.active{ background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; border-color:rgba(255,255,255,.3); }
.btn-icon{ font-size:1.2rem; }

/* ---------- Flowchart (no tocado) ---------- */
.flowchart-container{ display:grid; grid-template-columns:repeat(2,1fr); grid-template-rows:auto auto; gap:20px; padding:20px; background:#fff; border:1px solid #ccc; max-width:800px; margin:0 auto; }
.flowchart-node{ background:#fff; border:1px solid #ccc; padding:20px; min-height:200px; display:flex; flex-direction:column; justify-content:space-between; }
.flowchart-node:hover{ background:#fff; border:1px solid #ccc; }
.category-node{ border-left:4px solid var(--color); }
.node-content{ display:flex; flex-direction:column; gap:10px; flex:1; }
.node-icon{ font-size:1.5rem; text-align:center; }
.node-title{ font-size:1.2rem; font-weight:bold; color:#333; text-align:center; }
.node-connections{ margin-top:10px; display:flex; flex-direction:column; flex:1; justify-content:flex-start; }
.skill-connection{ display:flex; align-items:center; gap:5px; padding:5px; background:#f0f0f0; margin-bottom:5px; }
.connection-dot{ width:6px; height:6px; background:var(--color); border-radius:50%; }
.skill-name{ font-size:.9rem; color:#333; }

/* ---------- JSON viewer (no tocado) ---------- */
.json-viewer{ background:rgba(255,255,255,.1); border-radius:20px; padding:2rem; border:1px solid rgba(255,255,255,.2); overflow:hidden; }
.json-container{ background:#1e1e1e; border-radius:15px; overflow:hidden; border:1px solid #404040; }
.json-header{ display:flex; align-items:center; gap:1rem; padding:1rem 1.5rem; background:#2d2d2d; border-bottom:1px solid #404040; }
.json-icon{ font-size:1.5rem; }
.json-title{ font-size:1.2rem; font-weight:600; color:#fff; font-family:'Monaco','Menlo',monospace; }
.json-status{ display:flex; align-items:center; gap:.5rem; margin-left:auto; font-size:.9rem; color:#4CAF50; }
.status-dot{ width:8px; height:8px; background:#4CAF50; border-radius:50%; animation:pulseDot 2s infinite; }
.json-content{ padding:1.5rem; max-height:600px; overflow-y:auto; }
.json-code{ font-family:'Monaco','Menlo',monospace; font-size:.9rem; line-height:1.6; color:#d4d4d4; margin:0; white-space:pre-wrap; }

/* ---------- Network (morado) ---------- */
.network-container{
  --node-size: 80px;   /* diámetro de cada icono */
  --safe-gap: 24px;    /* margen a los bordes curvos */
  --radius: calc(min(25vmin, 150px));     /* radio responsivo */

  position:relative;
  width:100%;
  min-height:600px;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  border-radius:20px;
  border:1px solid rgba(255,255,255,.2);
  overflow:visible;     /* <-- permitir que se vean todos los iconos */
  display:flex; align-items:center; justify-content:center;
  padding:150px 50px;  /* ojo: esto reduce el área útil; el JS ya lo descuenta */
  margin:2rem 0;
}

/* Iconos orbitando al radio */
.skill-icon-node{
  position:absolute; top:50%; left:50%;
  transform: translate(-50%,-50%) rotate(var(--angle))
             translateY(calc(-1 * var(--radius)))
             rotate(calc(-1 * var(--angle)));
  animation: floatOrbit 3s ease-in-out infinite;
  animation-delay: calc(var(--angle) * 0.1s);
  z-index:5;
}
@keyframes floatOrbit{
  0%,100%{
    transform: translate(-50%,-50%) rotate(var(--angle))
               translateY(calc(-1 * var(--radius)))
               rotate(calc(-1 * var(--angle))) translateY(0);
  }
  50%{
    transform: translate(-50%,-50%) rotate(var(--angle))
               translateY(calc(-1 * var(--radius)))
               rotate(calc(-1 * var(--angle))) translateY(-10px);
  }
}

/* Apariencia del icono */
.icon-content{
  background:rgba(255,255,255,.95);
  border-radius:50%;
  padding:15px;
  border:3px solid var(--color);
  text-align:center;
  min-width:var(--node-size);
  min-height:var(--node-size);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  box-shadow:0 8px 25px rgba(0,0,0,.15);
  transition:all .3s ease; cursor:pointer;
}
.icon-content:hover{ transform:scale(1.1) translateY(-5px); box-shadow:0 15px 35px rgba(0,0,0,.25); border-color:#ff6b6b; }
.skill-icon{ font-size:2.5rem; margin-bottom:.3rem; display:block; color:var(--color); }
.skill-icon svg{ width:2.5rem; height:2.5rem; fill:currentColor; }
.skill-name{ font-size:.7rem; font-weight:600; color:#2c3e50; text-align:center; line-height:1.1; }

/* Centro */
.network-center{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); z-index:10; }
.center-node{
  width:120px; height:120px; background:linear-gradient(135deg,#ff6b6b 0%, #ffa726 100%);
  border-radius:50%; display:flex; flex-direction:column; align-items:center; justify-content:center;
  color:#fff; border:3px solid rgba(255,255,255,.8); box-shadow:0 0 30px rgba(255,107,107,.5);
  animation: pulseScaleCenter 2s infinite, rotateCenter 10s linear infinite;
  cursor:pointer; transition:.3s;
}
.center-node:hover{ transform:scale(1.1); box-shadow:0 0 40px rgba(255,107,107,.8); }
.center-icon{ font-size:2.5rem; margin-bottom:.5rem; }
.center-title{ font-size:1rem; font-weight:700; text-align:center; }

/* Líneas hacia los iconos (mismo radio) */
.connection-line{
  position:absolute; top:50%; left:50%;
  width:2px; height:var(--radius);
  background:linear-gradient(to bottom, var(--color), transparent);
  transform: translate(-50%,-50%) rotate(var(--angle)) translateY(calc(-0.5 * var(--radius)));
  animation: pulseLine 2s ease-in-out infinite;
  animation-delay: calc(var(--angle) * 0.1s);
  opacity:.6; z-index:1;
}
.connection-line::before{
  content:''; position:absolute; top:0; left:-1px; width:4px; height:20px;
  background:var(--color); border-radius:2px; animation: moveDot 3s linear infinite;
  animation-delay: calc(var(--angle) * 0.1s);
}

/* ---------- Responsive: ajusta tamaños, NO el transform ---------- */
@media (max-width:1200px){
  .title-text{ font-size:3rem; }
  .network-container{ min-height:520px; padding:120px 40px; --node-size:68px; --safe-gap:20px; --radius: calc(min(20vmin, 120px)); }
  .flowchart-container{ grid-template-columns:repeat(2,1fr); gap:1.5rem; max-width:700px; }
}
@media (max-width:768px){
  .skills{ padding:3rem 0; }
  .title-text{ font-size:2.5rem; }
  .view-controls{ flex-direction:column; align-items:center; gap:.8rem; }
  .view-btn{ width:100%; max-width:300px; justify-content:center; padding:.8rem 1rem; font-size:.9rem; }
  .flowchart-container{ grid-template-columns:1fr; grid-template-rows:auto auto; padding:1rem; max-width:400px; }
  .network-container{ min-height:400px; padding:100px 30px; --node-size:60px; --safe-gap:16px; --radius: calc(min(15vmin, 80px)); }
  .center-node{ width:60px; height:60px; }
  .center-icon{ font-size:1.5rem; }
  .center-title{ font-size:.7rem; }
  .skill-icon{ font-size:1.5rem; }
  .skill-icon svg{ width:1.5rem; height:1.5rem; }
  .skill-name{ font-size:.5rem; line-height:1.1; }
}
@media (max-width:480px){
  .skills{ padding:2rem 0; }
  .title-text{ font-size:2rem; }
  .view-controls{ gap:.6rem; }
  .view-btn{ padding:.7rem .8rem; font-size:.8rem; }
  .network-container{ min-height:350px; padding:80px 20px; --node-size:50px; --safe-gap:12px; --radius: calc(min(12vmin, 60px)); }
  .center-node{ width:50px; height:50px; }
  .center-icon{ font-size:1.2rem; }
  .center-title{ font-size:.6rem; }
  .skill-icon{ font-size:1.2rem; }
  .skill-icon svg{ width:1.2rem; height:1.2rem; }
  .skill-name{ font-size:.4rem; line-height:1; }
  .json-content{ padding:1rem; }
  .json-code{ font-size:.8rem; }
}

/* ---------- Animaciones ---------- */
@keyframes fadeInUp{ 0%{ opacity:0; transform:translateY(30px); } 100%{ opacity:1; transform:translateY(0); } }
@keyframes slideIn{ 0%{ width:0; opacity:0; } 100%{ width:120px; opacity:1; } }
@keyframes pulseDot{ 0%,100%{ opacity:1; } 50%{ opacity:.5; } }
@keyframes pulseScaleCenter{ 0%,100%{ transform:scale(1); } 50%{ transform:scale(1.05); } }
@keyframes rotateCenter{ from{ transform:rotate(0deg); } to{ transform:rotate(360deg); } }
@keyframes pulseLine{ 0%,100%{ opacity:.3; } 50%{ opacity:.8; } }
@keyframes moveDot{ 0%{ transform:translateY(0); } 100%{ transform:translateY(var(--radius)); } }